# 文件收集系统

一个基于123云盘开放API的文件收集系统，支持创建加密文件夹、大文件上传、文件管理等功能。

## 特点

1. **无需数据库**
   - 使用云盘文件系统存储文件
   - 使用特殊命名的空文件存储配置信息（如文件夹密码）
   - 完全无需后端服务器

2. **安全性**
   - 支持文件夹密码保护
   - 密码信息以加密方式存储在云盘
   - 支持文件访问权限控制

3. **高性能**
   - 使用Web Worker进行MD5计算
   - 大文件分片上传
   - 支持断点续传
   - 秒传功能支持

4. **用户友好**
   - 美观的用户界面
   - 拖拽上传支持
   - 实时上传进度显示
   - 上传速度显示

## 功能

- 文件夹管理
  - 创建文件夹
  - 设置访问密码
  - 生成分享链接
  
- 文件上传
  - 支持大文件上传
  - 显示上传进度
  - 支持批量上传
  - 可取消上传
  
- 文件管理
  - 文件预览
  - 文件下载
  - 批量操作
  - 搜索功能

## 部署说明

1. 获取123云盘开放平台的访问凭证
   - 访问[123云盘开放平台](https://www.123pan.com/developer)
   - 注册开发者账号
   - 创建应用获取 `CLIENT_ID` 和 `CLIENT_SECRET`

2. 配置项目
   - 复制 `js/config.js.example` 到 `js/config.js`
   - 填入你的 `API_BASE_URL`、`CLIENT_ID` 和 `CLIENT_SECRET`

3. 部署
   - 本项目是纯静态网站，可部署在任何Web服务器上
   - 推荐使用 GitHub Pages、Vercel 等平台托管

## 目录结构

```
├── css/
│   ├── style.css          # 主样式文件
│   └── admin.css          # 管理后台样式
├── js/
│   ├── api.js            # API封装
│   ├── config.js         # 配置文件
│   ├── upload.js         # 上传相关逻辑
│   └── md5worker.js      # MD5计算Worker
├── index.html            # 用户上传页面
└── admin.html           # 管理后台页面
```

## 使用方法

1. 管理员
   - 访问 `admin.html` 进入管理后台
   - 创建文件夹并设置密码
   - 获取文件夹分享链接
   
2. 用户
   - 通过分享链接访问上传页面
   - 如果文件夹有密码保护，需要输入密码
   - 选择或拖拽文件开始上传

## 技术栈

- 原生JavaScript（ES6+）
- Web Workers
- Fetch API
- CryptoJS
- 原生CSS3

## 注意事项

1. `config.js` 中的 `CLIENT_SECRET` 不应该直接暴露在前端代码中，建议：
   - 在生产环境使用代理服务器
   - 或使用环境变量配置
   
2. 文件夹密码使用Base64编码存储，如需更高安全性，建议：
   - 实现自定义加密算法
   - 使用后端服务器存储密码

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

MIT License 
